<div class="container">
    <div id= "gameContainer" class="header"><app-header></app-header></div>
    <app-game-info></app-game-info>
    <div class="mainView">
        <div class="superposeImageCanvas">
            <img
                *ngIf="this.gameService.game.originalImageData"
                [src]="this.gameService.game.originalImageData"
                [attr.width]="width"
                [attr.height]="height"
            />
            <canvas #canvas0 style="z-index: 1;" [attr.width]="width" [attr.height]="height" (click)="mouseHitDetect($event)"></canvas>
            <canvas #canvasCheat0 style="top: -221%;" [attr.width]="width" [attr.height]="height"></canvas>
            <canvas #canvas1 style="top: -333.7%;" [attr.width]="width" [attr.height]="height"></canvas>
        </div>
        <div class="superposeImageCanvas">
            <img
                *ngIf="this.gameService.game.modifiedImageData"
                [src]="this.gameService.game.modifiedImageData"
                [attr.width]="width"
                [attr.height]="height"
            />
            <canvas #canvas3 style="z-index: 1;" [attr.width]="width" [attr.height]="height" (click)="mouseHitDetect($event)"></canvas>
            <canvas #canvasCheat1 style="top: -221%;" [attr.width]="width" [attr.height]="height"></canvas>
            <canvas #canvas2 style="top: -333.7%;" [attr.width]="width" [attr.height]="height"></canvas>
        </div>
    </div>
    <div *ngIf="notRewinding" class="footer">
        <button mat-raised-button class="giveUp btn" (click)="this.gameService.giveUp()">Abandonner la partie</button>
    </div>
    <div class="message">
        <app-message-area #chatComponent id="chat" [playerName]="this.gameService.playerName"></app-message-area>
        <button *ngIf="notRewinding" (click)="startRewind()">Start Rewinding</button>
    </div>
</div>
<app-rewind-control-bar *ngIf="!notRewinding" #rewindControlBar></app-rewind-control-bar>
